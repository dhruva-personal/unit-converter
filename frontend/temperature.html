<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Temperature Converter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    nav a {
      margin-right: 15px;
      text-decoration: none;
      font-weight: bold;
    }
    .container {
      max-width: 400px;
      margin-top: 30px;
    }
    .hidden {
      display: none;
    }
    input, select, button {
      width: 100%;
      margin-top: 10px;
      padding: 8px;
    }
  </style>
</head>
<body>

<nav>
  <a href="length.html">Length</a>
  <a href="weight.html">Weight</a>
  <a href="temperature.html">Temperature</a>
</nav>

<div class="container" id="form">
  <input type="number" id="amount" placeholder="Amount" />

  <select id="fromUnit">
    <option value="">From unit</option>
    <option value="celsius">Celsius</option>
    <option value="fahrenheit">Fahrenheit</option>
  </select>

  <select id="toUnit">
    <option value="">To unit</option>
    <option value="celsius">Celsius</option>
    <option value="fahrenheit">Fahrenheit</option>
  </select>

  <button onclick="handleConvert()">Convert</button>
</div>

<div class="container hidden" id="result">
  <p id="output"></p>
  <button onclick="resetForm()">Reset</button>
</div>

<script>
  function handleConvert() {
    const amount = document.getElementById("amount").value;
    const from = document.getElementById("fromUnit").value;
    const to = document.getElementById("toUnit").value;

    fetch(`/convert?type=temperature&amount=${amount}&from=${from}&to=${to}`)
        .then(response => response.json())
        .then(data => {
            document.getElementById("output").innerText = `Result: ${amount} ${from} equals ${data.result} ${to}`
        })
        .catch(err => console.error(err));

    document.getElementById("form").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");
  }

  function resetForm() {
    document.getElementById("form").classList.remove("hidden");
    document.getElementById("result").classList.add("hidden");

    document.getElementById("amount").value = "";
    document.getElementById("fromUnit").value = "";
    document.getElementById("toUnit").value = "";
  }
</script>

</body>
</html>